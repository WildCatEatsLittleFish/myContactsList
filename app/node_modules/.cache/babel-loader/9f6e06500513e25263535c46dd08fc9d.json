{"ast":null,"code":"var _jsxFileName = \"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/src/components/PopupWindow.js\";\nimport React from 'react';\nimport './PopupWindow.css';\n\nclass PopupWindow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onFormSubmit = event => {\n      event.preventDefault();\n\n      if (this.props.text === 'Adding') {\n        if (this.state.first_name !== '' || this.state.last_name !== '') {\n          this.props.handleSubmit(this.state);\n        }\n      } else {\n        this.props.handleUpdate(this.state);\n      }\n\n      this.setState(this.initialState);\n    };\n\n    this.imageUpload = e => {\n      e.preventDefault();\n      let reader = new FileReader();\n      let file = e.target.files[0];\n\n      reader.onloadend = () => {\n        this.setState({\n          imagePreviewUrl: reader.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n      this.sendRequest(file);\n    };\n\n    this.initialState = {\n      first_name: '',\n      last_name: '',\n      phone: '',\n      email: '',\n      imagePreviewUrl: ''\n    };\n\n    if (this.props.text === 'Editing') {\n      this.state = this.props.contact_toEdit;\n    } else {\n      this.state = this.initialState;\n    }\n  }\n\n  sendRequest(file) {\n    return new Promise((resolve, reject) => {\n      const req = new XMLHttpRequest();\n      req.upload.addEventListener(\"load\", event => {\n        resolve(req.response);\n      });\n      req.upload.addEventListener(\"error\", event => {\n        reject(req.response);\n      });\n      const formData = new FormData();\n      formData.append(\"imageFile\", file, file.name);\n      req.open(\"POST\", \"http://localhost:8000/upload\");\n      req.send(formData);\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          first_name = _this$state.first_name,\n          last_name = _this$state.last_name,\n          phone = _this$state.phone,\n          email = _this$state.email,\n          imagePreviewUrl = _this$state.imagePreviewUrl;\n    return React.createElement(\"div\", {\n      className: \"popupWindow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"contactForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"cancel\",\n      onClick: this.props.closePopup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(\"form\", {\n      onSubmit: this.onFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"save\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Save\"), React.createElement(\"div\", {\n      class: \"photo_name_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, imagePreviewUrl === '' ? React.createElement(\"div\", {\n      class: \"circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"addphoto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Add Photo\")) : React.createElement(\"img\", {\n      class: \"image\",\n      src: imagePreviewUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"file-input\",\n      onChange: this.imageUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"first_name\",\n      placeholder: \"First Name\",\n      value: first_name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"last_name\",\n      placeholder: \"Last Name\",\n      value: last_name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"phone_email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"phone:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"phone\",\n      placeholder: \"+1 917 000 00 00\",\n      value: phone,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"email:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"example@gmail.com\",\n      value: email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default PopupWindow;","map":{"version":3,"sources":["/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/src/components/PopupWindow.js"],"names":["React","PopupWindow","Component","constructor","props","handleChange","event","setState","target","name","value","onFormSubmit","preventDefault","text","state","first_name","last_name","handleSubmit","handleUpdate","initialState","imageUpload","e","reader","FileReader","file","files","onloadend","imagePreviewUrl","result","readAsDataURL","sendRequest","phone","email","contact_toEdit","Promise","resolve","reject","req","XMLHttpRequest","upload","addEventListener","response","formData","FormData","append","open","send","render","closePopup"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './PopupWindow.css';\n\nclass PopupWindow extends React.Component {\n  constructor(props) {\n      super(props);\n\n      this.initialState = {\n          first_name: '',\n          last_name: '',\n          phone: '',\n          email: '',\n          imagePreviewUrl: '',\n      };\n\n      if(this.props.text === 'Editing')\n      {\n        this.state = this.props.contact_toEdit;\n      }\n      else {\n        this.state = this.initialState;\n      }\n  }\n\n  handleChange = event => {\n    this.setState({\n        [event.target.name] : event.target.value\n    });\n  }\n\n  onFormSubmit = (event) => {\n    event.preventDefault();\n\n    if(this.props.text === 'Adding') {\n      if(this.state.first_name !== '' || this.state.last_name !== '')\n      {\n        this.props.handleSubmit(this.state);\n      }\n    }\n    else {\n      this.props.handleUpdate(this.state);\n    }\n\n    this.setState(this.initialState);\n  }\n\n  imageUpload = (e) => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    }\n    reader.readAsDataURL(file)\n\n    this.sendRequest(file);\n  }\n\n  sendRequest(file) {\n    return new Promise((resolve, reject) => {\n      const req = new XMLHttpRequest();\n\n      req.upload.addEventListener(\"load\", event => {\n        resolve(req.response);\n      });\n\n      req.upload.addEventListener(\"error\", event => {\n        reject(req.response);\n      });\n\n      const formData = new FormData();\n      formData.append(\"imageFile\", file, file.name);\n\n      req.open(\"POST\", \"http://localhost:8000/upload\");\n      req.send(formData);\n    });\n  }\n\n  render() {\n    const { first_name, last_name, phone, email, imagePreviewUrl} = this.state;\n\n    return (\n      <div className='popupWindow'>\n        <div className='contactForm'>\n          <div className='content'>\n            <button  id='cancel' onClick={this.props.closePopup}>Cancel</button>\n            <form onSubmit={this.onFormSubmit}>\n                <button id='save' type=\"submit\">\n                  Save\n                </button>\n\n                <div class=\"photo_name_row\">\n                  <div class=\"photo\">\n\n                    {imagePreviewUrl==='' ?\n                      <div class=\"circle\"><span class=\"addphoto\">Add Photo</span></div>\n                      :\n                      <img class=\"image\" src={imagePreviewUrl}/>\n                    }\n                    <input type=\"file\" id=\"file-input\" onChange={this.imageUpload}/>\n\n                  </div>\n                  <div class='name'>\n                    <input\n                        type=\"text\"\n                        name=\"first_name\"\n                        placeholder=\"First Name\"\n                        value={first_name}\n                        onChange={this.handleChange}\n                    />\n                    <hr />\n                    <input\n                        type=\"text\"\n                        name=\"last_name\"\n                        placeholder=\"Last Name\"\n                        value={last_name}\n                        onChange={this.handleChange}\n                    />\n                    <hr />\n                  </div>\n                </div>\n                <div class='phone_email'>\n                  <label>phone:</label>\n                  <input\n                      type=\"text\"\n                      name=\"phone\"\n                      placeholder=\"+1 917 000 00 00\"\n                      value={phone}\n                      onChange={this.handleChange}\n                  />\n                  <hr />\n                  <label>email:</label>\n                  <input\n                      type=\"text\"\n                      name=\"email\"\n                      placeholder=\"example@gmail.com\"\n                      value={email}\n                      onChange={this.handleChange}\n                  />\n                  <hr />\n                </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PopupWindow\n"]},"metadata":{},"sourceType":"module"}