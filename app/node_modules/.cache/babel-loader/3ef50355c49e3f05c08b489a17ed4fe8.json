{"ast":null,"code":"import _defineProperty from\"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./PopupWindow.css';var PopupWindow=/*#__PURE__*/function(_React$Component){_inherits(PopupWindow,_React$Component);function PopupWindow(props){var _this;_classCallCheck(this,PopupWindow);_this=_possibleConstructorReturn(this,_getPrototypeOf(PopupWindow).call(this,props));_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.onFormSubmit=function(event){event.preventDefault();if(_this.props.text==='Adding'){if(_this.state.first_name!==''||_this.state.last_name!==''){_this.props.handleSubmit(_this.state);}}else{_this.props.handleUpdate(_this.state);}_this.setState(_this.initialState);};_this.imageUpload=function(e){e.preventDefault();var reader=new FileReader();var file=e.target.files[0];reader.onloadend=function(){_this.setState({imagePreviewUrl:reader.result});};reader.readAsDataURL(file);_this.sendRequest(file);};_this.initialState={first_name:'',last_name:'',phone:'',email:'',imagePreviewUrl:''};if(_this.props.text==='Editing'){_this.state=_this.props.contact_toEdit;}else{_this.state=_this.initialState;}return _this;}_createClass(PopupWindow,[{key:\"sendRequest\",value:function sendRequest(file){return new Promise(function(resolve,reject){var req=new XMLHttpRequest();req.upload.addEventListener(\"load\",function(event){resolve(req.response);});req.upload.addEventListener(\"error\",function(event){reject(req.response);});var formData=new FormData();formData.append(\"file\",file,file.name);req.open(\"POST\",\"http://localhost:8000/upload\");req.send(formData);});}},{key:\"render\",value:function render(){var _this$state=this.state,first_name=_this$state.first_name,last_name=_this$state.last_name,phone=_this$state.phone,email=_this$state.email,imagePreviewUrl=_this$state.imagePreviewUrl;return React.createElement(\"div\",{className:\"popupWindow\"},React.createElement(\"div\",{className:\"contactForm\"},React.createElement(\"div\",{className:\"content\"},React.createElement(\"button\",{id:\"cancel\",onClick:this.props.closePopup},\"Cancel\"),React.createElement(\"form\",{onSubmit:this.onFormSubmit},React.createElement(\"button\",{id:\"save\",type:\"submit\"},\"Save\"),React.createElement(\"div\",{class:\"photo_name_row\"},React.createElement(\"div\",{class:\"photo\"},imagePreviewUrl===''?React.createElement(\"div\",{class:\"circle\"},React.createElement(\"span\",{class:\"addphoto\"},\"Add Photo\")):React.createElement(\"img\",{class:\"image\",src:imagePreviewUrl}),React.createElement(\"input\",{type:\"file\",id:\"file-input\",onChange:this.imageUpload})),React.createElement(\"div\",{class:\"name\"},React.createElement(\"input\",{type:\"text\",name:\"first_name\",placeholder:\"First Name\",value:first_name,onChange:this.handleChange}),React.createElement(\"hr\",null),React.createElement(\"input\",{type:\"text\",name:\"last_name\",placeholder:\"Last Name\",value:last_name,onChange:this.handleChange}),React.createElement(\"hr\",null))),React.createElement(\"div\",{class:\"phone_email\"},React.createElement(\"label\",null,\"phone:\"),React.createElement(\"input\",{type:\"text\",name:\"phone\",placeholder:\"+1 917 000 00 00\",value:phone,onChange:this.handleChange}),React.createElement(\"hr\",null),React.createElement(\"label\",null,\"email:\"),React.createElement(\"input\",{type:\"text\",name:\"email\",placeholder:\"example@gmail.com\",value:email,onChange:this.handleChange}),React.createElement(\"hr\",null))))));}}]);return PopupWindow;}(React.Component);export default PopupWindow;","map":{"version":3,"sources":["/Users/elienliu/Languages/JavaScript/Contacts_List/myapp1/app/src/components/PopupWindow.js"],"names":["React","PopupWindow","props","handleChange","event","setState","target","name","value","onFormSubmit","preventDefault","text","state","first_name","last_name","handleSubmit","handleUpdate","initialState","imageUpload","e","reader","FileReader","file","files","onloadend","imagePreviewUrl","result","readAsDataURL","sendRequest","phone","email","contact_toEdit","Promise","resolve","reject","req","XMLHttpRequest","upload","addEventListener","response","formData","FormData","append","open","send","closePopup","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './PopupWindow.css';\n\nclass PopupWindow extends React.ComponentÂ {\n  constructor(props) {\n      super(props);\n\n      this.initialState = {\n          first_name: '',\n          last_name: '',\n          phone: '',\n          email: '',\n          imagePreviewUrl: '',\n      };\n\n      if(this.props.text === 'Editing')\n      {\n        this.state = this.props.contact_toEdit;\n      }\n      else {\n        this.state = this.initialState;\n      }\n  }\n\n  handleChange = event => {\n    this.setState({\n        [event.target.name] : event.target.value\n    });\n  }\n\n  onFormSubmit = (event) => {\n    event.preventDefault();\n\n    if(this.props.text === 'Adding') {\n      if(this.state.first_name !== '' || this.state.last_name !== '')\n      {\n        this.props.handleSubmit(this.state);\n      }\n    }\n    else {\n      this.props.handleUpdate(this.state);\n    }\n\n    this.setState(this.initialState);\n  }\n\n  imageUpload = (e) => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        imagePreviewUrl: reader.result\n      });\n    }\n    reader.readAsDataURL(file)\n\n    this.sendRequest(file);\n  }\n\n  sendRequest(file) {\n    return new Promise((resolve, reject) => {\n      const req = new XMLHttpRequest();\n\n      req.upload.addEventListener(\"load\", event => {\n        resolve(req.response);\n      });\n\n      req.upload.addEventListener(\"error\", event => {\n        reject(req.response);\n      });\n\n      const formData = new FormData();\n      formData.append(\"file\", file, file.name);\n\n      req.open(\"POST\", \"http://localhost:8000/upload\");\n      req.send(formData);\n    });\n  }\n\n  render() {\n    const { first_name, last_name, phone, email, imagePreviewUrl} = this.state;\n\n    return (\n      <div className='popupWindow'>\n        <div className='contactForm'>\n          <div className='content'>\n            <button  id='cancel' onClick={this.props.closePopup}>Cancel</button>\n            <form onSubmit={this.onFormSubmit}>\n                <button id='save' type=\"submit\">\n                  Save\n                </button>\n\n                <div class=\"photo_name_row\">\n                  <div class=\"photo\">\n\n                    {imagePreviewUrl==='' ?\n                      <div class=\"circle\"><span class=\"addphoto\">Add Photo</span></div>\n                      :\n                      <img class=\"image\" src={imagePreviewUrl}/>\n                    }\n                    <input type=\"file\" id=\"file-input\" onChange={this.imageUpload}/>\n\n                  </div>\n                  <div class='name'>\n                    <input\n                        type=\"text\"\n                        name=\"first_name\"\n                        placeholder=\"First Name\"\n                        value={first_name}\n                        onChange={this.handleChange}\n                    />\n                    <hr />\n                    <input\n                        type=\"text\"\n                        name=\"last_name\"\n                        placeholder=\"Last Name\"\n                        value={last_name}\n                        onChange={this.handleChange}\n                    />\n                    <hr />\n                  </div>\n                </div>\n                <div class='phone_email'>\n                  <label>phone:</label>\n                  <input\n                      type=\"text\"\n                      name=\"phone\"\n                      placeholder=\"+1 917 000 00 00\"\n                      value={phone}\n                      onChange={this.handleChange}\n                  />\n                  <hr />\n                  <label>email:</label>\n                  <input\n                      type=\"text\"\n                      name=\"email\"\n                      placeholder=\"example@gmail.com\"\n                      value={email}\n                      onChange={this.handleChange}\n                  />\n                  <hr />\n                </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PopupWindow\n"]},"metadata":{},"sourceType":"module"}