(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(7),o=a.n(s),c=a(1),l=a(2),r=a(4),d=a(3),m=a(5),p=a(8),u=(a(14),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.onFormSubmit=function(e){e.preventDefault(),"Adding"===a.props.text?""!==a.state.first_name&&a.props.handleSubmit(a.state):a.props.handleUpdate(a.state),a.setState(a.initialState)},a.imageUpload=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({imagePreviewUrl:t.result})},t.readAsDataURL(n),a.sendRequest(n)},a.initialState={first_name:"",last_name:"",phone:"",email:"",imagePreviewUrl:""},"Editing"===a.props.text?a.state=a.props.contact_toEdit:a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"sendRequest",value:function(e){return new Promise((function(t,a){var n=new XMLHttpRequest;n.upload.addEventListener("load",(function(e){t(n.response)})),n.upload.addEventListener("error",(function(e){a(n.response)}));var i=new FormData;i.append("file",e,e.name),n.open("POST","http://localhost:8000/upload"),n.send(i)}))}},{key:"render",value:function(){var e=this.state,t=e.first_name,a=e.last_name,n=e.phone,s=e.email,o=e.imagePreviewUrl;return i.a.createElement("div",{className:"popupWindow"},i.a.createElement("div",{className:"contactForm"},i.a.createElement("div",{className:"content"},i.a.createElement("button",{id:"cancel",onClick:this.props.closePopup},"Cancel"),i.a.createElement("form",{onSubmit:this.onFormSubmit},i.a.createElement("button",{id:"save",type:"submit"},"Save"),i.a.createElement("div",{class:"photo_name_row"},i.a.createElement("div",{class:"photo"},""===o?i.a.createElement("div",{class:"circle"},i.a.createElement("span",{class:"addphoto"},"Add Photo")):i.a.createElement("img",{class:"image",src:o}),i.a.createElement("input",{type:"file",id:"file-input",onChange:this.imageUpload})),i.a.createElement("div",{class:"name"},i.a.createElement("input",{type:"text",name:"first_name",placeholder:"First Name",value:t,onChange:this.handleChange}),i.a.createElement("hr",null),i.a.createElement("input",{type:"text",name:"last_name",placeholder:"Last Name",value:a,onChange:this.handleChange}),i.a.createElement("hr",null))),i.a.createElement("div",{class:"phone_email"},i.a.createElement("label",null,"phone:"),i.a.createElement("input",{type:"text",name:"phone",placeholder:"+1 917 000 00 00",value:n,onChange:this.handleChange}),i.a.createElement("hr",null),i.a.createElement("label",null,"email:"),i.a.createElement("input",{type:"text",name:"email",placeholder:"example@gmail.com",value:s,onChange:this.handleChange}),i.a.createElement("hr",null))))))}}]),t}(i.a.Component)),h=(a(15),function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.contactsData.map((function(t,a){return i.a.createElement("div",{class:"contact"},i.a.createElement("div",{class:"photo_col"},""===t.imagePreviewUrl?i.a.createElement("div",{class:"photoCircle"},""===t.last_name?i.a.createElement("span",{class:"photoFL"},t.first_name[0]):i.a.createElement("span",{class:"photoFL"},t.first_name[0]+t.last_name[0])):i.a.createElement("img",{class:"photoImage",src:t.imagePreviewUrl})),i.a.createElement("div",{class:"info_col"},i.a.createElement("p",{id:"contactName"},t.first_name+" "+t.last_name),i.a.createElement("p",{id:"contactEmail"},t.email)),i.a.createElement("div",{class:"button_col"},i.a.createElement("i",{id:"edit",class:"fa fa-edit",onClick:function(){return e.props.editContact(a)}}),i.a.createElement("a",{class:"delete",onClick:function(){return e.props.removeContact(a)}})))}));return i.a.createElement("div",{className:"contacts_list"},t)}}]),t}(i.a.Component)),E=(a(16),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={showPopup_Add:!1,showPopup_Edit:!1,edit_index:0,contacts:[]},a.sendToLocal=function(e){return localStorage.setItem("myContacts",JSON.stringify(e))},a.handleSubmit=function(e){var t=a.state.contacts.concat(e);a.setState({contacts:t}),a.sendToLocal(t)},a.handleEdit=function(e){a.setState({edit_index:e}),a.togglePopupEdit()},a.removeContact=function(e){var t=a.state.contacts.filter((function(t,a){return a!==e}));a.setState({contacts:t}),a.sendToLocal(t)},a.updateContact=function(e){var t=a.state.contacts;t[a.state.edit_index]=e,a.setState({contacts:t}),a.sendToLocal(t)},localStorage.getItem("myContacts")?a.state.contacts=JSON.parse(localStorage.getItem("myContacts")):a.sendToLocal(a.state.contacts),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"togglePopupAdd",value:function(){this.setState({showPopup_Add:!this.state.showPopup_Add})}},{key:"togglePopupEdit",value:function(){this.setState({showPopup_Edit:!this.state.showPopup_Edit})}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"title_row"},i.a.createElement("h1",{className:"title"},"My Contacts"),i.a.createElement("a",{href:"#",className:"open",onClick:this.togglePopupAdd.bind(this)}),i.a.createElement("hr",{className:"divider"})),this.state.showPopup_Add?i.a.createElement(u,{text:"Adding",handleSubmit:this.handleSubmit,closePopup:this.togglePopupAdd.bind(this)}):null,this.state.showPopup_Edit?i.a.createElement(u,{text:"Editing",contact_toEdit:this.state.contacts[this.state.edit_index],handleSubmit:this.handleSubmit.bind(this),handleUpdate:this.updateContact.bind(this),closePopup:this.togglePopupEdit.bind(this)}):null,i.a.createElement(h,{contactsData:this.state.contacts,editContact:this.handleEdit.bind(this),removeContact:this.removeContact.bind(this)}))}}]),t}(i.a.Component));o.a.render(i.a.createElement(E,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.86cc8d01.chunk.js.map